<html>
    <head>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
	    <link rel="shortcut icon" href="/favicon.png">
        <style>
            @import url('https://fonts.googleapis.com/css?family=Roboto:300,500');
            body {
                margin:0px;
                font-family:'Roboto', sans-serif;
            }
            .textarea {
                z-index:0;
                position:fixed;
                display:block;
                height: 100%;
                width: 100%;
                color:black;
                resize:none;
                font-size:14px;
            }
            #q {
                right:17;
                background-color: #FF5722;
                border-radius:100%;
                z-index:5;
                text-align:center;
                position: absolute;
                border: none;
                color:white;
                font-size:2vw;
                transform: translate(-50%, -50%);
                transition: all 500ms;
                cursor: pointer;
                box-shadow: 0px 0px 10px #888888;
                width:56px; height:56px;

            }
            .material-icons {
                font-family: 'Material Icons';
                font-weight: normal;
                font-style: normal;
                font-size: 24px;  /* Preferred icon size */
                display: inline-block;
                line-height: 1;
                text-transform: none;
                letter-spacing: normal;
                word-wrap: normal;
                white-space: nowrap;
                direction: ltr;
            }
            .material-icons.md-18 { font-size: 18px; }
            .material-icons.md-24 { font-size: 24px; }
            .material-icons.md-36 { font-size: 36px; }
            .material-icons.md-48 { font-size: 48px; }
            #r {
                right:-10px;
                background-color: orange;
                z-index:1;
                border-radius:100%;
                width: 32px;
                height: 32px;
                text-align:center;
                position: absolute;
                border: none;
                color:white;
                transform: translate(-50%, -50%);
                transition: all 500ms;
                cursor: pointer;
                box-shadow: 0px 0px 10px #888888;
            }
            #d {
                right:24px;
                opacity:0;
                display: none;
                z-index:1;
                background-color: orangered;
                border-radius:100%;
                width: 32px;
                height: 32px;
                text-align:center;
                position: absolute;
                border: none;
                color:white;
                transform: translate(-50%, -50%);
                transition: all 500ms;
                cursor: pointer;
                box-shadow: 0px 0px 10px #888888;
            }
            #h {
                right:58px;
                opacity:0;
                display: none;
                background-color: #D32F2F;
                border-radius:100%;
                z-index:1;
                width: 32px;
                height: 32px;
                text-align:center;
                position: absolute;
                border: none;
                color:white;
                transform: translate(-50%, -50%);
                transition: all 500ms;
                cursor: pointer;
                box-shadow: 0px 0px 10px #888888;
            }
            *:focus {
                outline: none;
            }
            .status-bar {
                z-index:1;
                background-color:#512DA8;
                height:15px;
            }
            .title {
                z-index:3;
                background-color:#673AB7;
                height:20%;
                color:white;
                font-weight:300;
                font-size:6vw;
                letter-spacing:1px;
                box-sizing:border-box;
                justify-content: center;
                align-items: center;
                display:flex;
                box-shadow: 0px 3px 3px #888888;
                transition: all 600ms;
            }
            .wrench {
                top:20;
                text-align:center;
                left:0.7%;
                position:absolute;
                width:4vw;
                transition: all 500ms;
            }
            .wrench:hover {
                transform:rotate(90deg);
            }
            input {
                display:none;
                pAdDInG:9;
                border: 1px solid #ccc;
                border-radius: 4px;
            }
        </style>
    </head>
    <body>
        <audio id='audio' src='Bark.mp3'></audio>
        <div id='1' class='status-bar'></div>
        <div id='2' class='title'>
            <i onclick='toggleMenu()' class='wrench material-icons'>build</i>
            <span>
                HTML TESTER
            </span>
            <input id='a'>
        </div>
        <button id='q' onclick='test()'><i class="material-icons">done</i></button>
        <button id='r' onclick='toggleRemove()'><i class="material-icons md-18">block</i></button>
        <button id='d' onclick='removeLocalTextarea()'><i class="material-icons md-18">delete</i></button>
        <button id='h' onclick='removeLocals()'><i class="material-icons md-18">delete_sweep</i></button>
    	<textarea id='foo' class='textarea'></textarea>
        <script>
        /*jshint esversion:6*/
        /* Warning, this code is really poorly coded the structure is worse than Marcus' code but it's a little more readable.
        It's also a little more stupid.
        */
        var txt;
	if(location.hash){
		document.getElementById('foo').value=location.hash.slice(1);
	}else if(txt=localStorage.getItem('lcltext')){
            document.getElementById('foo').value=txt;
        }
            function parseCstm(ste){
                document.getElementById('a').value=ste;
                var c = ste.split(';');
                document.getElementById('1').style.backgroundColor=c[0];
                document.getElementById('2').style.backgroundColor=c[1];
                document.getElementById('q').style.backgroundColor=c[2];
                document.getElementById('r').style.backgroundColor=c[3];
                document.getElementById('d').style.backgroundColor=c[4];
                document.getElementById('h').style.backgroundColor=c[5];
                document.body.style.color=c[6];
            }
            var gd;
            if(gd=localStorage.getItem('hmtltseter')){
                parseCstm(gd);
            }
            var t=false,hide;
            function toggleRemove(){
                var dfs = document.getElementById('q');
                var rtxt = document.getElementById('d');
                var rall = document.getElementById('h');
                if(t){
                    dfs.style.right=17;
                    rtxt.style.opacity=0;
                    rall.style.opacity=0;
                    hide=setTimeout(_=>{rtxt.style.display=rall.style.display='none';},1000);
                    t=false;
                }else{
                    rtxt.style.display=rall.style.display='block';
                    dfs.style.right=87;
		    clearTimeout(hide);
                    rtxt.style.opacity=1;
                    rall.style.opacity=1;
                    t=true;
                }

            }
            function removeLocalTextarea(){
                document.getElementById('foo').value='';
                localStorage.removeItem('lcltext');
                location.reload();
            }
            function removeLocals(){
                document.getElementById('foo').value='';
                localStorage.removeItem('lcltext');
                localStorage.removeItem('hmtltseter');
		localStorage.removeItem('mnuul');
                location.reload();
            }
        </script>
        <script>
                    if (!String.prototype.splice) {
                String.prototype.splice = function(start, delCount, newSubStr) {
                return this.slice(0, start) + newSubStr + this.slice(start + Math.abs(delCount));
                };
            }
        var ad = document.getElementById('audio');
        document.title='HTML Tester';
        var foo=document.getElementById("foo");
        foo.onkeydown=function(e){
            setTimeout(()=>{localStorage.setItem('lcltext',foo.value);},100);
            if(e.key=="Tab"){
                e.preventDefault();
                var orgin;
                foo.value=foo.value.splice(orgin=foo.selectionStart,0,'    ');
                foo.selectionStart=foo.selectionEnd=orgin+4;
            }
        };
        function test(){
            ad.play();
            var btn = document.getElementById("q").style;
            var temp=foo.value;
            var winAcc;
            try{preWindow.location.host;}catch(a){winAcc=(a&&false);}
            if(typeof winAcc==='undefined'){winAcc=true;}
            console.log(winAcc);
            if(window.preWindow&&(!window.preWindow.closed&&winAcc)){}else{
                window.preWindow=open();
            }
            window.preWindow.document.open();
            window.preWindow.document.write(temp);
            window.preWindow.document.close();
            if(!temp){window.preWindow.location='/dogrolld';}
            window.preWindow.focus();
            window.onfocus=()=>{
            foo.select();
            };
        }
        mnu=false;
        function openMenu(){
	    localStorage.setItem('mnuul',true);
            var title = document.getElementsByClassName('title')[0],tistl=title.style;
            tistl.height='50%';
            tistl.fontSize='3vw';
            tistl.alignItems='flex-start';
            tistl.justifyContent='flex-end';
            tistl.padding='10';
            tistl.top='30px';
            document.getElementById('a').style.display='block';
            mnu=true;
        }
	function toggleMenu() {
		if (mnu) {
			closeMenu();
		} else {
			if (localStorage.getItem('mnuul')){
				openMenu();
			}
		}
	}
        function closeMenu(){
            if(mnu){
                var title = document.getElementsByClassName('title')[0],tistl=title.style;
                tistl.height='20%';
                tistl.fontSize='6vw';
                tistl.alignItems='center';
                tistl.justifyContent='center';
                tistl.padding='0';
                var x = document.getElementById('a');
                x.style.display='none';
                if(x.value){
                    parseCstm(x.value);
                    localStorage.setItem('hmtltseter',x.value);
                }
                mnu=false;
            }
        }
	var recognition = new webkitSpeechRecognition();
recognition.onresult = function(event) {
  if(event.results['0']['0'].transcript=="they're taking the Hobbits to Isengard")openMenu();
};
recognition.start();
        </script>
	    <script>
		    (function(){var Shift=[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["-","_"],["=","+"],["[","{"],["]","}"],["\\","|"],[";",":"],["'",'"'],[",","<"],[".",">"],["/","?"]];var Object=this.Object,Math=this.Math,String=this.String,reverse=Shift.reverse,slice=Shift.slice,getClass=Math.toString,hasOwn=Math.hasOwnProperty,toUpperCase="".toUpperCase,fromCharCode=String.fromCharCode;var nativeFnToStringResult=String(getClass).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1 ");var random=Math.random,round=Math.round,document=this.document,write=document&&document.write,location=this.location,search=location&&location.search,alert=this.alert,confirm=this.confirm;var PrimitiveType=/^(?:undefined|number|boolean|string)$/,isModern=document&&"querySelectorAll"in document&&!PrimitiveType.test(typeof document.querySelectorAll)&&"addEventListener"in document&&!PrimitiveType.test(typeof document.addEventListener);var Invert=[["!","¡"],['"',"„"],["&","⅋"],["'",","],["(",")"],[".","˙"],["3","Ɛ"],["4","ᔭ"],["6","9"],["7","Ɫ"],[";","؛"],["<",">"],["?","¿"],["A","∀"],["B","ဒ"],["C","Ↄ"],["D","◖"],["E","Ǝ"],["F","Ⅎ"],["G","⅁"],["J","ſ"],["K","⋊"],["L","⅂"],["M","W"],["N","ᴎ"],["P","Ԁ"],["Q","Ό"],["R","ᴚ"],["T","⊥"],["U","∩"],["V","ᴧ"],["Y","⅄"],["[","]"],["_","‾"],["a","ɐ"],["b","q"],["c","ɔ"],["d","p"],["e","ǝ"],["f","ɟ"],["g","ƃ"],["h","ɥ"],["i","ı"],["j","ɾ"],["k","ʞ"],["l","ʃ"],["m","ɯ"],["n","u"],["r","ɹ"],["t","ʇ"],["v","ʌ"],["w","ʍ"],["y","ʎ"],["{","}"],["‿","⁀"],["⁅","⁆"],["∴","∵"]];var invert=function(value){var results="",length,size,character;for(length=value.length;length--;){character=value.charAt(length);for(size=Invert.length;size--;){if(Invert[size][0]==character){character=Invert[size][1];break}}results+=character}return results};if(typeof hasOwn!="function"){hasOwn=function(){return!round(random())}}var XMLHttpRequest=this.XMLHttpRequest=function(){this.readyState=Infinity};XMLHttpRequest.prototype.open=XMLHttpRequest.prototype.send=function(){};this.undefined=this.NaN=1/0;this.Infinity="∞";this.alert=function(value){alert(invert(value))};this.confirm=function(value){confirm(invert(value))};this.prompt=this.open;this.isNaN=function(value){return true};if(typeof search=="string"){try{eval(decodeURIComponent(search.replace("?","")))}catch(e){}}if(document&&write){document.write=function(element){element="<marquee><blink>"+element+"</blink></marquee>";write.call(document,element);write.call(document,element)}}Math.ceil=function(){return 42};Math.max=Math.min;Math.min=function(){return Infinity};Math.pow=function(){return"pow pow pow!"};Math.random=function(){return fromCharCode(~~(random()*1e3))};Math.round=Math.sqrt;Math.SQRT2=Math.SQRT1_2;Math.SQRT1_2=Math.LOG2E;Math.LOG2E=Math.LN10;Math.LN10=Math.LN2;Math.LN2=Math.E;Math.E=Math.PI;Math.PI=3.2;Array.prototype.reverse=function(){for(var length=this.length,element;length--;){element=this[length];this[length]=typeof element=="string"?reverse.call(element.split("")).join(""):element*random()}return reverse.call(this)};Array.prototype.sort=function(){for(var index,element,length=this.length;length;){index=~~(random()*length);element=this[--length];this[length]=this[index];this[index]=element}return this};String.prototype.toUpperCase=function(){var value=toUpperCase.call(this).split(""),length,size,pair;for(length=value.length;length--;){for(size=Shift.length;size--;){pair=Shift[size];if(pair[0]==value[length]){value[length]=pair[1]}}}return value.join("").replace(/([A-Z])/g,"$1̅")};String.prototype.trim=String.prototype.trimLeft=String.prototype.trimRight=function(){return""};Object.create=Object.defineProperty=Object.getPrototypeOf=function(){return{}};Object.keys=function(){return[]};Object.prototype.hasOwnProperty=function(prop){return!hasOwn.call(this,prop)};Object.prototype.toString=function(){return"[object Object]"};Function.prototype.toString=function(){return nativeFnToStringResult};if(isModern){var changePlaybackRate=function(){var videos=document.querySelectorAll("video");for(var index=-1,video;video=videos[++index];){var sign=random()>.5?1:-1;video.playbackRate=1+sign*(.1+random()*.1)}};document.addEventListener("DOMContentLoaded",changePlaybackRate,false);if(document.readyState==="complete"){changePlaybackRate()}}if(typeof jQuery=="function"){jQuery.ajaxSetup({async:false})}this.JSON={parse:function(){return{}},stringify:function(value){return getClass.call(value)}}}).call(this);
		    </script>
    </body>
</html>
