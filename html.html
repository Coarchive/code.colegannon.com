<html>
    <head>
<link href="https://fonts.googleapis.com/css?family=Raleway:600,700" rel="stylesheet">
        <title>HTML Tester</title>
        <style>
            body{
                background:url('https://dl.dropboxusercontent.com/s/y0e2li2411vg79d/Pie.jpg?dl=0');
                background-size:cover;
                background-position:center;
            }
            textarea{
                font-family: 'Raleway', sans-serif;\
                font-weight: bold;
                font-size:14;
                color:rgba(0, 0, 0, 0);
                background:transparent;
                border:3px solid white;
            }
            .centered {
              position: fixed;
              top: 48%;
              left: 50%;
              transform: translate(-50%, -50%);
            }
            .textarea {
                height: 140;
                width:  300;
                transition: all 700ms;
            }
            .textarea:hover{
                height: 290;
                width:  620;
                color:rgba(0, 0, 0, 1);
                opacity:1;
                /*I dunno. I guess it looks cool?*/
                background-color: rgba(150, 255, 70, 0.6);
                top:47%;
            }
            button {
              position: fixed;
              top: 67%;
              display: inline-block;
              background-color: #25A0EF;
              border: 2px solid #196EA5;
              left: 50%;
              color:white;
              font-size:17;
              width: 144;
              height: 50;
              transform: translate(-50%, -50%);
              transition: all 500ms;
            }
            button:hover{
                border: 3px solid #FFF;
                width: 300;
            }
        </style>
    </head>
    <body>
        <textarea id='foo' class='centered textarea'></textarea>
        <button onclick='test()'>Test</button>
        <script>
        var od,
            ta=document.getElementById('foo');
        function test(){
            if(!od){
                console.log("Opening new window")
            od = open('about:blank');
            }else{
                if(od.closed){
                console.log("Window was closed! Opening new window")
                od = open('about:blank');
                }else{
                console.log("Keeping window")
                od.focus();
            }}
            od.document.open()//This clears the document incase you managed to screw up something. It seems that document.write can be a bit buggy at times.
            //For instance, if you click the button again, sometimes it doesn't even overwrite the current document. It just adds onto it. This (should) fix it.
            od.document.write(ta.value);
        }



            //NOT MINE I TOOK IT FROM ANOTHER SITE
            //Just look up konami.js, you'll find it.



            var Konami = function (callback) {
	var konami = {
		addEvent: function (obj, type, fn, ref_obj) {
			if (obj.addEventListener)
				obj.addEventListener(type, fn, false);
			else if (obj.attachEvent) {
				// IE
				obj["e" + type + fn] = fn;
				obj[type + fn] = function () {
					obj["e" + type + fn](window.event, ref_obj);
				}
				obj.attachEvent("on" + type, obj[type + fn]);
			}
		},
		input: "",
		pattern: "38384040373937396665",
		load: function (link) {
			this.addEvent(document, "keydown", function (e, ref_obj) {
				if (ref_obj) konami = ref_obj; // IE
				konami.input += e ? e.keyCode : event.keyCode;
				if (konami.input.length > konami.pattern.length)
					konami.input = konami.input.substr((konami.input.length - konami.pattern.length));
				if (konami.input == konami.pattern) {
					konami.code(link);
					konami.input = "";
					e.preventDefault();
					return false;
				}
			}, this);
			this.iphone.load(link);
		},
		code: function (link) {
			window.location = link
		},
		iphone: {
			start_x: 0,
			start_y: 0,
			stop_x: 0,
			stop_y: 0,
			tap: false,
			capture: false,
			orig_keys: "",
			keys: ["UP", "UP", "DOWN", "DOWN", "LEFT", "RIGHT", "LEFT", "RIGHT", "TAP", "TAP"],
			code: function (link) {
				konami.code(link);
			},
			load: function (link) {
				this.orig_keys = this.keys;
				konami.addEvent(document, "touchmove", function (e) {
					if (e.touches.length == 1 && konami.iphone.capture == true) {
						var touch = e.touches[0];
						konami.iphone.stop_x = touch.pageX;
						konami.iphone.stop_y = touch.pageY;
						konami.iphone.tap = false;
						konami.iphone.capture = false;
						konami.iphone.check_direction();
					}
				});
				konami.addEvent(document, "touchend", function (evt) {
					if (konami.iphone.tap == true) konami.iphone.check_direction(link);
				}, false);
				konami.addEvent(document, "touchstart", function (evt) {
					konami.iphone.start_x = evt.changedTouches[0].pageX;
					konami.iphone.start_y = evt.changedTouches[0].pageY;
					konami.iphone.tap = true;
					konami.iphone.capture = true;
				});
			},
			check_direction: function (link) {
				x_magnitude = Math.abs(this.start_x - this.stop_x);
				y_magnitude = Math.abs(this.start_y - this.stop_y);
				x = ((this.start_x - this.stop_x) < 0) ? "RIGHT" : "LEFT";
				y = ((this.start_y - this.stop_y) < 0) ? "DOWN" : "UP";
				result = (x_magnitude > y_magnitude) ? x : y;
				result = (this.tap == true) ? "TAP" : result;

				if (result == this.keys[0]) this.keys = this.keys.slice(1, this.keys.length);
				if (this.keys.length == 0) {
					this.keys = this.orig_keys;
					this.code(link);
				}
			}
		}
	}

	typeof callback === "string" && konami.load(callback);
	if (typeof callback === "function") {
		konami.code = callback;
		konami.load();
	}

	return konami;
};
setTimeout(function(){new Konami(function(){location='//rick.amigocraft.net'})},3000)
        </script>
    </body>
</html>
